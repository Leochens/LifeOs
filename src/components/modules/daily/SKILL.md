---
name: 每日任务
description: 用于管理 LifeOS 每日任务模块的斜杠命令技能。当用户使用 /每日、/daily 命令或提及任务、今日任务时触发此技能。
---

# 每日任务技能

此技能用于管理每日任务清单、记录任务进度和查看历史任务。

## 触发条件

- 用户输入 `/每日` 或 `/daily`
- 用户提及 "今日任务"、"任务清单"、"今天做什么"
- 用户需要添加、完成或查看任务

## 可用命令

### 添加任务

```
/每日 添加 [任务内容] #标签
/每日 + [任务内容]
```

示例：
```
/每日 添加 完成项目报告 #工作
/每日 + 健身30分钟 #健康
/每日 添加 阅读《原子习惯》一章 #学习
```

### 完成任务

```
/每日 完成 [任务ID或内容]
/每日 打勾 [任务内容]
```

示例：
```
/每日 完成 完成项目报告
/每日 打勾 健身30分钟
```

### 删除任务

```
/每日 删除 [任务内容]
/每日 移除 [任务内容]
```

### 查看任务

```
/每日 查看
/每日 今日
/每日 历史 [日期]
```

示例：
```
/每日 查看
/每日 历史 2025-01-15
/每日 本周
```

### 添加笔记

```
/每日 笔记 [内容]
/每日 记录 [内容]
```

## 数据存储

### 今日任务文件路径

```
{vault}/daily/tasks/{YYYY-MM-DD}.md
```

### Frontmatter 格式

```yaml
---
date: 2025-01-15
energy: medium
mood: ""
tags: []
---
```

### 任务列表格式

```markdown
- [ ] 待完成任务1 #标签
- [x] 已完成任务2 #标签
```

### 笔记内容

```markdown
## 今日笔记

今天有什么想记录的...
```

## 任务属性

| 属性 | 说明 | 示例 |
|------|------|------|
| id | 唯一标识 | `task-1234567890` |
| text | 任务内容 | `"完成项目报告"` |
| done | 完成状态 | `true` / `false` |
| tags | 标签列表 | `["工作", "重要"]` |
| time | 预定时间（可选） | `"14:00"` |

## 进度计算

```
完成率 = 已完成任务数 / 总任务数 × 100%
```

## 历史查看

### 日历视图

- 月历显示所有有记录的日期
- 点击日期查看当日任务
- 标记今日和已选择日期

### 统计信息

- 待完成任务数
- 已完成任务数
- 完成率进度条

## AI 操作指南

### 读取今日任务

使用 `readNote("{vault}/daily/tasks/{YYYY-MM-DD}.md")` 读取任务文件。

### 创建/更新任务

使用 `writeNote(path, frontmatter, content)` 保存任务。

### 解析任务列表

使用正则表达式从内容中提取任务：

```javascript
const tasks = content.match(/^- \[([ xX])\] (.+)$/gm);
```

### 添加标签

在任务内容中使用 `#标签` 格式添加标签：

```
- [ ] 完成项目报告 #工作 #重要
```

## 配置文件

### 模块配置

```
{vault}/.lifeos/daily.yaml
```

## 注意事项

1. 每日自动创建当天的任务文件
2. 任务支持标签分类
3. 历史任务只读，不可编辑
4. 笔记内容自动保存
5. 支持快捷键：Enter 添加任务
